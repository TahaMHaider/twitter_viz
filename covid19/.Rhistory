plot.title = element_text(size = 18),
axis.line = element_line(color = "#a6acaf"),
plot.background = element_rect(fill = "#303841", color = "#303841"),
panel.background = element_rect(fill = "#303841", color = "#303841"),
text = element_text(color = "#a6acaf"),
axis.text  = element_blank(),
panel.grid = element_blank())
aus_daily_data %>%
ggplot(aes(x = date, y = active_total, colour = province)) +
geom_line(alpha = 0.7, show.legend = FALSE) +
# geom_point(alpha = 0.7, show.legend = FALSE) +
scale_color_brewer(palette = "Set2") +
facet_geo(~ province, grid = "aus_grid1") +
theme_bw() +
theme(legend.position = "none",
plot.caption = element_markdown(hjust = 0, color = "#909497", size = 8),
panel.border = element_blank(),
plot.title = element_text(size = 18),
axis.line = element_line(color = "#a6acaf"),
plot.background = element_rect(fill = "#303841", color = "#303841"),
panel.background = element_rect(fill = "#303841", color = "#303841"),
text = element_text(color = "#a6acaf"),
axis.text  = element_blank(),
panel.grid = element_blank())
aus_daily_data %>%
ggplot(aes(x = date, y = active_total, colour = province)) +
geom_line(alpha = 0.7, show.legend = FALSE) +
geom_point(alpha = 0.7, show.legend = FALSE) +
scale_color_brewer(palette = "Set2") +
facet_geo(~ province, grid = "aus_grid1") +
theme_bw() +
theme(legend.position = "none",
plot.caption = element_markdown(hjust = 0, color = "#909497", size = 8),
panel.border = element_blank(),
plot.title = element_text(size = 18),
axis.text  = element_text(color = "#909497"),
axis.title = element_blank(),
axis.line = element_line(color = "#a6acaf"),
plot.background = element_rect(fill = "#303841", color = "#303841"),
panel.background = element_rect(fill = "#303841", color = "#303841"),
text = element_text(color = "#a6acaf"),
panel.grid = element_blank())
aus_daily_data %>%
ggplot(aes(x = date, y = active_total, colour = province)) +
geom_line(alpha = 0.7, show.legend = FALSE) +
# geom_point(alpha = 0.7, show.legend = FALSE) +
scale_color_brewer(palette = "Set2") +
facet_geo(~ province, grid = "aus_grid1") +
theme_bw() +
theme(legend.position = "none",
plot.caption = element_markdown(hjust = 0, color = "#909497", size = 8),
panel.border = element_blank(),
plot.title = element_text(size = 18),
axis.text  = element_text(color = "#909497"),
axis.title = element_blank(),
axis.line = element_line(color = "#a6acaf"),
plot.background = element_rect(fill = "#303841", color = "#303841"),
panel.background = element_rect(fill = "#303841", color = "#303841"),
text = element_text(color = "#a6acaf"),
panel.grid = element_blank())
aus_daily_data %>%
ggplot(aes(x = date, y = active_total, colour = province)) +
geom_line(alpha = 0.7, show.legend = FALSE) +
# geom_point(alpha = 0.7, show.legend = FALSE) +
scale_color_brewer(palette = "Set2") +
facet_geo(~ province, grid = "aus_grid1") +
theme_minimal() +
theme(legend.position = "none",
plot.caption = element_markdown(hjust = 0, color = "#909497", size = 8),
panel.border = element_blank(),
plot.title = element_text(size = 18),
axis.text  = element_text(color = "#909497"),
axis.title = element_blank(),
axis.line = element_line(color = "#a6acaf"),
plot.background = element_rect(fill = "#303841", color = "#303841"),
panel.background = element_rect(fill = "#303841", color = "#303841"),
text = element_text(color = "#a6acaf"),
panel.grid = element_blank())
aus_daily_data %>%
ggplot(aes(x = date, y = active_total, colour = province)) +
geom_line(alpha = 0.7, show.legend = FALSE) +
# geom_point(alpha = 0.7, show.legend = FALSE) +
scale_color_brewer(palette = "Set2") +
facet_geo(~ province, grid = "aus_grid1", scale = "free") +
theme_minimal() +
theme(legend.position = "none",
plot.caption = element_markdown(hjust = 0, color = "#909497", size = 8),
panel.border = element_blank(),
plot.title = element_text(size = 18),
axis.text  = element_text(color = "#909497"),
axis.title = element_blank(),
axis.line = element_line(color = "#a6acaf"),
plot.background = element_rect(fill = "#303841", color = "#303841"),
panel.background = element_rect(fill = "#303841", color = "#303841"),
text = element_text(color = "#a6acaf"),
panel.grid = element_blank())
aus_daily_data %>%
ggplot(aes(x = date, y = active_total, colour = province)) +
geom_line(alpha = 0.7, show.legend = FALSE) +
# geom_point(alpha = 0.7, show.legend = FALSE) +
scale_color_brewer(palette = "Set2") +
facet_geo(~ province, grid = "aus_grid1", scale = "free_y") +
theme_minimal() +
theme(legend.position = "none",
plot.caption = element_markdown(hjust = 0, color = "#909497", size = 8),
panel.border = element_blank(),
plot.title = element_text(size = 18),
axis.text  = element_text(color = "#909497"),
axis.title = element_blank(),
axis.line = element_line(color = "#a6acaf"),
plot.background = element_rect(fill = "#303841", color = "#303841"),
panel.background = element_rect(fill = "#303841", color = "#303841"),
text = element_text(color = "#a6acaf"),
panel.grid = element_blank())
aus_daily_data %>%
ggplot(aes(x = date, y = active_total, colour = province)) +
geom_line(alpha = 0.7, show.legend = FALSE) +
# geom_point(alpha = 0.7, show.legend = FALSE) +
scale_color_brewer(palette = "Set2") +
facet_geo(~ province, grid = "aus_grid1", scales = "free") +
theme_minimal() +
theme(legend.position = "none",
plot.caption = element_markdown(hjust = 0, color = "#909497", size = 8),
panel.border = element_blank(),
plot.title = element_text(size = 18),
axis.text  = element_text(color = "#909497"),
axis.title = element_blank(),
axis.line = element_line(color = "#a6acaf"),
plot.background = element_rect(fill = "#303841", color = "#303841"),
panel.background = element_rect(fill = "#303841", color = "#303841"),
text = element_text(color = "#a6acaf"),
panel.grid = element_blank())
read_html("https://www.abs.gov.au/statistics/people/population/national-state-and-territory-population/latest-release") %>%
html_nodes(xpath = '/html/body/div[1]/main/div[4]/div/div/div/div[5]/div[2]/div[2]/div/div/div[2]/div/div') %>%
html_table()
library(rvest)
read_html("https://www.abs.gov.au/statistics/people/population/national-state-and-territory-population/latest-release") %>%
html_nodes(xpath = '/html/body/div[1]/main/div[4]/div/div/div/div[5]/div[2]/div[2]/div/div/div[2]/div/div') %>%
html_table()
read_html("https://www.abs.gov.au/statistics/people/population/national-state-and-territory-population/latest-release") %>%
html_nodes(xpath = '/html/body/div[1]/main/div[4]/div/div/div/div[5]/div[2]/div[2]/div/div/div[2]/div/div')
read_html("https://www.abs.gov.au/statistics/people/population/national-state-and-territory-population/latest-release") %>%
html_nodes(xpath = '/html/body/div[1]/main/div[4]/div/div/div/div[5]/div[2]/div[2]/div/div/div[2]') %>%
html_table()
read_html("https://www.abs.gov.au/statistics/people/population/national-state-and-territory-population/latest-release") %>%
html_nodes(xpath = '/html/body/div[1]/main/div[4]/div/div/div/div[5]/div[2]/div[2]/div/div/div[2]')
aus_daily_data %>%
ggplot(aes(x = date, y = active_total, colour = province)) +
geom_line(alpha = 0.7, show.legend = FALSE) +
# geom_point(alpha = 0.7, show.legend = FALSE) +
scale_color_brewer(palette = "Set2") +
facet_geo(~ province, grid = "aus_grid1", scales = "free") +
theme_minimal() +
theme(legend.position = "none",
plot.caption = element_markdown(hjust = 0, color = "#909497", size = 8),
panel.border = element_blank(),
plot.title = element_text(size = 18, color = "#a6acaf"),
axis.text  = element_text(color = "#909497"),
axis.title = element_blank(),
axis.line = element_line(color = "#a6acaf"),
plot.background = element_rect(fill = "#303841", color = "#303841"),
panel.background = element_rect(fill = "#303841", color = "#303841"),
text = element_text(color = "#a6acaf"),
panel.grid = element_blank())
aus_daily_data %>%
ggplot(aes(x = date, y = active_total, colour = province)) +
geom_line(alpha = 0.7, show.legend = FALSE) +
# geom_point(alpha = 0.7, show.legend = FALSE) +
scale_color_brewer(palette = "Set2") +
facet_geo(~ province, grid = "aus_grid1", scales = "free") +
theme_minimal() +
theme(legend.position = "none",
plot.caption = element_markdown(hjust = 0, color = "#909497", size = 8),
panel.border = element_blank(),
plot.title = element_text(size = 18, color = "#909497"),
axis.text  = element_text(color = "#909497"),
axis.title = element_blank(),
axis.line = element_line(color = "#a6acaf"),
plot.background = element_rect(fill = "#303841", color = "#303841"),
panel.background = element_rect(fill = "#303841", color = "#303841"),
text = element_text(color = "#a6acaf"),
panel.grid = element_blank())
aus_daily_data %>%
ggplot(aes(x = date, y = active_total, colour = province)) +
geom_line(alpha = 0.7, show.legend = FALSE) +
# geom_point(alpha = 0.7, show.legend = FALSE) +
scale_color_brewer(palette = "Set2") +
faect_wrap(~ province, scales = "free") +
theme_minimal() +
theme(legend.position = "none",
plot.caption = element_markdown(hjust = 0, color = "#909497", size = 8),
panel.border = element_blank(),
plot.title = element_text(size = 18, color = "#909497"),
axis.text  = element_text(color = "#909497"),
axis.title = element_blank(),
axis.line = element_line(color = "#a6acaf"),
plot.background = element_rect(fill = "#303841", color = "#303841"),
panel.background = element_rect(fill = "#303841", color = "#303841"),
text = element_text(color = "#a6acaf"),
panel.grid = element_blank())
aus_daily_data %>%
ggplot(aes(x = date, y = active_total, colour = province)) +
geom_line(alpha = 0.7, show.legend = FALSE) +
# geom_point(alpha = 0.7, show.legend = FALSE) +
scale_color_brewer(palette = "Set2") +
facet_wrap(~ province, scales = "free") +
theme_minimal() +
theme(legend.position = "none",
plot.caption = element_markdown(hjust = 0, color = "#909497", size = 8),
panel.border = element_blank(),
plot.title = element_text(size = 18, color = "#909497"),
axis.text  = element_text(color = "#909497"),
axis.title = element_blank(),
axis.line = element_line(color = "#a6acaf"),
plot.background = element_rect(fill = "#303841", color = "#303841"),
panel.background = element_rect(fill = "#303841", color = "#303841"),
text = element_text(color = "#a6acaf"),
panel.grid = element_blank())
aus_daily_data %>%
ggplot(aes(x = date, y = active_total, colour = province)) +
geom_line(alpha = 0.7, show.legend = FALSE) +
# geom_point(alpha = 0.7, show.legend = FALSE) +
scale_color_brewer(palette = "Set2") +
facet_wrap(~ province, scales = "free") +
theme_minimal() +
theme(legend.position = "none",
plot.caption = element_markdown(hjust = 0, color = "#909497", size = 8),
panel.border = element_blank(),
plot.title = element_text(size = 18, color = "#909497"),
axis.text  = element_text(color = "#909497"),
axis.title = element_blank(),
axis.line = element_line(color = "#a6acaf"),
plot.background = element_rect(fill = "#303841", color = "#303841"),
panel.background = element_rect(fill = "#303841", color = "#303841"),
text = element_text(color = "#a6acaf"),
panel.grid = element_blank(),
strip.text.x = element_text(color = "#909497", face = "bold"))
aus_daily_data %>%
ggplot(aes(x = date, y = active_total, colour = province)) +
geom_line(alpha = 0.7, show.legend = FALSE) +
# geom_point(alpha = 0.7, show.legend = FALSE) +
scale_color_brewer(palette = "Set2") +
facet_geo(~ province, grid = "au_grid1", scales = "free") +
theme_minimal() +
theme(legend.position = "none",
plot.caption = element_markdown(hjust = 0, color = "#909497", size = 8),
panel.border = element_blank(),
plot.title = element_text(size = 18, color = "#909497"),
axis.text  = element_text(color = "#909497"),
axis.title = element_blank(),
axis.line = element_line(color = "#a6acaf"),
plot.background = element_rect(fill = "#303841", color = "#303841"),
panel.background = element_rect(fill = "#303841", color = "#303841"),
text = element_text(color = "#a6acaf"),
panel.grid = element_blank(),
strip.text.x = element_text(color = "#909497", face = "bold"))
get_grid_names()
aus_daily_data %>%
ggplot(aes(x = date, y = active_total, colour = province)) +
geom_line(alpha = 0.7, show.legend = FALSE) +
# geom_point(alpha = 0.7, show.legend = FALSE) +
scale_color_brewer(palette = "Set2") +
facet_geo(~ province, grid = "aus_grid1", scales = "free") +
theme_minimal() +
theme(legend.position = "none",
plot.caption = element_markdown(hjust = 0, color = "#909497", size = 8),
panel.border = element_blank(),
plot.title = element_text(size = 18, color = "#909497"),
axis.text  = element_text(color = "#909497"),
axis.title = element_blank(),
axis.line = element_line(color = "#a6acaf"),
plot.background = element_rect(fill = "#303841", color = "#303841"),
panel.background = element_rect(fill = "#303841", color = "#303841"),
text = element_text(color = "#a6acaf"),
panel.grid = element_blank(),
strip.text.x = element_text(color = "#909497", face = "bold"))
# recreate aus_grid1
aus_grid_jf <- aus_grid1
aus_grid_jf
grid_design()
# recreate aus_grid1
aus_grid_jf <- aus_grid1
aus_grid_jf$col[aus_grid_jf$code == "ACT"] <- 3
aus_grid_jf$row[aus_grid_jf$code == "VIC"] <- 4
aus_grid_jf
aus_daily_data %>%
ggplot(aes(x = date, y = active_total, colour = province)) +
geom_line(alpha = 0.7, show.legend = FALSE) +
# geom_point(alpha = 0.7, show.legend = FALSE) +
scale_color_brewer(palette = "Set2") +
facet_geo(~ province, grid = "aus_grid_jf", scales = "free") +
theme_minimal() +
theme(legend.position = "none",
plot.caption = element_markdown(hjust = 0, color = "#909497", size = 8),
panel.border = element_blank(),
plot.title = element_text(size = 18, color = "#909497"),
axis.text  = element_text(color = "#909497"),
axis.title = element_blank(),
axis.line = element_line(color = "#a6acaf"),
plot.background = element_rect(fill = "#303841", color = "#303841"),
panel.background = element_rect(fill = "#303841", color = "#303841"),
text = element_text(color = "#a6acaf"),
panel.grid = element_blank(),
strip.text.x = element_text(color = "#909497", face = "bold"))
grid_preview(aus_grid_jf)
aus_daily_data %>%
ggplot(aes(x = date, y = active_total, colour = province)) +
geom_line(alpha = 0.7, show.legend = FALSE) +
geom_point(alpha = 0.7, show.legend = FALSE) +
scale_color_brewer(palette = "Set2") +
facet_geo(~ province, grid = "aus_grid_jf", scales = "free") +
theme_minimal() +
theme(legend.position = "none",
plot.caption = element_markdown(hjust = 0, color = "#909497", size = 8),
panel.border = element_blank(),
plot.title = element_text(size = 18, color = "#909497"),
axis.text  = element_text(color = "#909497"),
axis.title = element_blank(),
axis.line = element_line(color = "#a6acaf"),
plot.background = element_rect(fill = "#303841", color = "#303841"),
panel.background = element_rect(fill = "#303841", color = "#303841"),
text = element_text(color = "#a6acaf"),
panel.grid = element_blank(),
strip.text.x = element_text(color = "#909497", face = "bold")) +
transition_reveal(date)
aus_daily_data %>%
ggplot(aes(x = date, y = active_total, colour = province)) +
geom_line(alpha = 0.7, show.legend = FALSE) +
geom_point(alpha = 0.7, show.legend = FALSE) +
scale_color_brewer(palette = "Set2") +
facet_geo(~ province, grid = "aus_grid1", scales = "free") +
theme_minimal() +
theme(legend.position = "none",
plot.caption = element_markdown(hjust = 0, color = "#909497", size = 8),
panel.border = element_blank(),
plot.title = element_text(size = 18, color = "#909497"),
axis.text  = element_text(color = "#909497"),
axis.title = element_blank(),
axis.line = element_line(color = "#a6acaf"),
plot.background = element_rect(fill = "#303841", color = "#303841"),
panel.background = element_rect(fill = "#303841", color = "#303841"),
text = element_text(color = "#a6acaf"),
panel.grid = element_blank(),
strip.text.x = element_text(color = "#909497", face = "bold")) +
transition_reveal(date)
read_html("https://en.wikipedia.org/wiki/Australia") %>%
html_nodes(xpath = '/html/body/div[3]/div[3]/div[5]/div[1]/table[2]') %>%
html_table()
read_html("https://en.wikipedia.org/wiki/Australia") %>%
html_nodes(xpath = '/html/body/div[3]/div[3]/div[5]/div[1]/table[2]') %>%
html_table(fill = TRUE)
# obtain state populations downloaded datacube from ABS
aus_population <- read_csv("aus_population.csv")
aus_population
aus_daily_data %>%
left_join(aus_population, by "province")
aus_daily_data %>%
left_join(aus_population, by = "province")
aus_daily_data
aus_daily_data %>%
left_join(aus_population, by = "province")
aus_daily_data <- aus_daily_data %>%
left_join(aus_population, by = "province") %>%
transmute(
province,
date,
active_total_rate = 100000 * active_total / population
)
aus_daily_data
aus_daily_data %>%
ggplot(aes(x = date, y = active_total_rate, colour = province)) +
geom_line(alpha = 0.7, show.legend = FALSE) +
# geom_point(alpha = 0.7, show.legend = FALSE) +
scale_color_brewer(palette = "Set2") +
facet_geo(~ province, grid = "aus_grid1", scales = "free") +
theme_minimal() +
theme(legend.position = "none",
plot.caption = element_markdown(hjust = 0, color = "#909497", size = 8),
panel.border = element_blank(),
plot.title = element_text(size = 18, color = "#909497"),
axis.text  = element_text(color = "#909497"),
axis.title = element_blank(),
axis.line = element_line(color = "#a6acaf"),
plot.background = element_rect(fill = "#303841", color = "#303841"),
panel.background = element_rect(fill = "#303841", color = "#303841"),
text = element_text(color = "#a6acaf"),
panel.grid = element_blank(),
strip.text.x = element_text(color = "#909497", face = "bold"))
aus_daily_data %>%
ggplot(aes(x = date, y = active_total, colour = province)) +
geom_line(alpha = 0.7, show.legend = FALSE) +
# geom_point(alpha = 0.7, show.legend = FALSE) +
scale_color_brewer(palette = "Set2") +
facet_geo(~ province, grid = "aus_grid1", scales = "free") +
theme_minimal() +
theme(legend.position = "none",
plot.caption = element_markdown(hjust = 0, color = "#909497", size = 8),
panel.border = element_blank(),
plot.title = element_text(size = 18, color = "#909497"),
axis.text  = element_text(color = "#909497"),
axis.title = element_blank(),
axis.line = element_line(color = "#a6acaf"),
plot.background = element_rect(fill = "#303841", color = "#303841"),
panel.background = element_rect(fill = "#303841", color = "#303841"),
text = element_text(color = "#a6acaf"),
panel.grid = element_blank(),
strip.text.x = element_text(color = "#909497", face = "bold"))
# merge data together to obtain rates of covid
aus_daily_data <- aus_daily_data %>%
left_join(aus_population, by = "province") %>%
transmute(
province,
date,
active_total,
active_total_rate = 100000 * active_total / population
)
aus_daily_data <- coronavirus %>%
filter(country == "Australia") %>%
group_by(province, type, date) %>%
summarise(total_cases = sum(cases)) %>%
pivot_wider(names_from = type, values_from = total_cases) %>%
arrange(date) %>%
mutate(active = confirmed - death - recovered) %>%
mutate(active_total = cumsum(active),
recovered_total = cumsum(recovered),
death_total = cumsum(death))
# merge data together to obtain rates of covid
aus_daily_data <- aus_daily_data %>%
left_join(aus_population, by = "province") %>%
transmute(
province,
date,
active_total,
active_total_rate = 100000 * active_total / population
)
aus_daily_data %>%
ggplot(aes(x = date, y = active_total, colour = province)) +
geom_line(alpha = 0.7, show.legend = FALSE) +
# geom_point(alpha = 0.7, show.legend = FALSE) +
scale_color_brewer(palette = "Set2") +
facet_geo(~ province, grid = "aus_grid1", scales = "free") +
theme_minimal() +
theme(legend.position = "none",
plot.caption = element_markdown(hjust = 0, color = "#909497", size = 8),
panel.border = element_blank(),
plot.title = element_text(size = 18, color = "#909497"),
axis.text  = element_text(color = "#909497"),
axis.title = element_blank(),
axis.line = element_line(color = "#a6acaf"),
plot.background = element_rect(fill = "#303841", color = "#303841"),
panel.background = element_rect(fill = "#303841", color = "#303841"),
text = element_text(color = "#a6acaf"),
panel.grid = element_blank(),
strip.text.x = element_text(color = "#909497", face = "bold")) +
transition_reveal(date) -> state_treemap
aus_daily_data %>%
ggplot(aes(x = date, y = active_total, colour = province)) +
geom_line(alpha = 0.7, show.legend = FALSE) +
# geom_point(alpha = 0.7, show.legend = FALSE) +
scale_color_brewer(palette = "Set2") +
facet_geo(~ province, grid = "aus_grid1", scales = "free") +
theme_minimal() +
theme(legend.position = "none",
plot.caption = element_markdown(hjust = 0, color = "#909497", size = 8),
panel.border = element_blank(),
plot.title = element_text(size = 18, color = "#909497"),
axis.text  = element_text(color = "#909497"),
axis.title = element_blank(),
axis.line = element_line(color = "#a6acaf"),
plot.background = element_rect(fill = "#303841", color = "#303841"),
panel.background = element_rect(fill = "#303841", color = "#303841"),
text = element_text(color = "#a6acaf"),
panel.grid = element_blank(),
strip.text.x = element_text(color = "#909497", face = "bold"))
aus_daily_data %>%
ggplot(aes(x = date, y = active_total_rate, colour = province)) +
geom_line(alpha = 0.7, show.legend = FALSE) +
# geom_point(alpha = 0.7, show.legend = FALSE) +
scale_color_brewer(palette = "Set2") +
facet_geo(~ province, grid = "aus_grid1") +
theme_minimal() +
theme(legend.position = "none",
plot.caption = element_markdown(hjust = 0, color = "#909497", size = 8),
panel.border = element_blank(),
plot.title = element_text(size = 18, color = "#909497"),
axis.text  = element_text(color = "#909497"),
axis.title = element_blank(),
axis.line = element_line(color = "#a6acaf"),
plot.background = element_rect(fill = "#303841", color = "#303841"),
panel.background = element_rect(fill = "#303841", color = "#303841"),
text = element_text(color = "#a6acaf"),
panel.grid = element_blank(),
strip.text.x = element_text(color = "#909497", face = "bold"))
aus_daily_data %>%
ggplot(aes(x = date, y = active_total_rate, colour = province)) +
geom_line(alpha = 0.7, show.legend = FALSE) +
# geom_point(alpha = 0.7, show.legend = FALSE) +
scale_color_brewer(palette = "Set2") +
facet_geo(~ province, grid = "aus_grid1", scales = "free_x") +
theme_minimal() +
theme(legend.position = "none",
plot.caption = element_markdown(hjust = 0, color = "#909497", size = 8),
panel.border = element_blank(),
plot.title = element_text(size = 18, color = "#909497"),
axis.text  = element_text(color = "#909497"),
axis.title = element_blank(),
axis.line = element_line(color = "#a6acaf"),
plot.background = element_rect(fill = "#303841", color = "#303841"),
panel.background = element_rect(fill = "#303841", color = "#303841"),
text = element_text(color = "#a6acaf"),
panel.grid = element_blank(),
strip.text.x = element_text(color = "#909497", face = "bold"))
